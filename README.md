# SeniorDesign
This is the source repo for Running Safety!

# Proj Summary
Running Safety Plus is a safety device used by runners, joggers, and walkers of all ages that will be useful for emergency situations of any type. Comfortably concealed and durable enough to fulfill all of its functions, our device will track GPS coordinates, heart rate, the running force, and contact emergency contact when needed. Our device consists of both a shoe insert and chest strap to help avoid false positives and provide more accurate detection of emergencies. Using a GPS, sim card, and Bluetooth functionalities, the device is programmed through a web application which is where preferences are set and data is stored.

# Customer’s Project Description
People jogging alone can often be in danger, especially young women. We would address this concern by using a concealed device which the runner wears in a concealed location, suggested inside a shoe, which senses when something is wrong and automatically sends a message to 911 or another specific individual with the GPS coordinates. This system will be a self-contained device not relying on the user’s cell phone nor does it rely on a specific easily thwarted action such as yelling or pushing a button. The team will be responsible for determining how the device senses the runner’s distress, including possibilities such as sensing abrupt changes in the runner’s gate.

# Introduction
In the United States, over 64 million people responded that they jog or run regularly in their free time as a source of exercise. Specifically, in the state of Massachusetts, running is seen as the most common form of exercise for people of all ages. This common form of exercise is usually completed alone and, depending on the environment surrounding that runner, could be dangerous. As our customer explained, there has been a rise in the amount of reported abduction or sexual assault attempts to young women while jogging alone. Health emergencies are other common dangerous situations that can occur to runners if they are out on their own, leaving them stranded with no one around to help them in some cases. Our team, with the help from our customer, plans on solving this problem by designing a functional device that can help runners of all ages be safer during their exercising routines. Our customer helped plan the product design which consists of two parts including a shoe insert and a wearable chest strap. This design reassures that the products will be concealed and therefore not easily seen by the public eye, which can be very important in certain emergency situations.

# Engineering requirements
The first requirement is to make sure the device is undetectable. We have decided to make it a two-part device consisting of a chest strap and shoe insert, which allows for both concealment and comfortability. The chest strap should have a range from 17 in to 31 in in order to works for different ages.The customer asked for the device to track the  runner’s location, so we decided to use a GPS module and SIM card. The SIM card will help connect the runner with our web page which will display the runner’s location. The GPS module is also another huge part of tracking our runner, in that their location will be gathered using this module to be sent to the emergency contact provided. We also decided to implement a more beneficial implementation in that we take the coordinates gathered and use that to find a link that will provide the emergency contact with a map interface so that they can visually see and understand the runner’s location more clearly.
The duration of the usage is also mentioned by our customer. In order to achieve portability, the device must be of certain size and have a portable power supply. In terms of power, it was decided to use a rechargeable battery, which would allow for at least a 6-hour run time. This approach allows for the device to be moved around and recharged when needed. The battery life of our system can be seen as the most important requirement of our project, due to the fact that it must last for the runner’s entire running session length. Furthermore, it was decided that the dimensions for portability are a maximum of 2 in x 2 in and weigh no more than 0.25 lbs. These dimensions can be easily compared to today’s apple watch which is a device many use during everyday use and even during exercise.
The key aspect that concerns the customer is the accuracy of the detection and the automatic actions of the device. Our customer wants the device to automatically detect the emergency situation and take action immediately and send the GPS coordinates to an emergency contact automatically.  We use a pulse monitor and a force sensor to ensure the accuracy of the detection, and use Twilio integrated into our own web page to send out the SMS message after receiving the emergency signal from the device. Moreover, our device will be as small as possible to hide inside a runner’s shoe and under their shirt, which will help the device be hidden from the public eye which is very important in some emergency situations.

# Conceptual approach
In the beginning, we wanted the device to send messages directly to 911 when it senses danger. After doing the research on Massachusetts Law, we noticed that it is not possible for us to send messages directly to 911, so instead we chose to send the emergency messages to a programmed emergency contact that will be stored in the web database. With the help of Professor Osama, we found an API that will help us forward the emergency message to the stored emergency contact given by the user. Twilio is the API that we will integrate into the backend of our script that will help send these messages to our emergency contact. 
Originally we were only going to send the GPS coordinates we gathered to the emergency contact, but we realized that it may be hard to understand and also not enough information depending on the situation that is taking place. We then decided that we will be sending along a link that will connect the user to Google Maps showing the actual location of the runner at the moment of the emergency. We also will be including the contact information for the nearby police station along with this link incase the emergency contact feels they need to contact officials.
Initially we planned on using a bracelet as the wearable device that includes a pulse sensor, but after testing and further consideration, we decided that a chest strap instead of the bracelet would be better for many reasons. First of all, a chest strap allows the pulse sensor to get closer to the human body, more specifically the heart, and measure the pulse value much more precisely. Also, a chest strap is a safer choice for the runner, in that it would be rather difficult for it to get ripped off by possible attackers or even other objects that may come in contact with their arm. Finally, trying to fit as many devices as we have into a small wrist bracelet would be rather difficult, but by expanding our dimensions to the size of a chest strap would really help. Therefore, we can fit more into the chest strap, while also having the device hidden from the public eye.
When first considering ideas, we wanted to preset the route that runners will take into our web application and check whether the runner is out of range while they are running. However, after a lot of research, we found out that it would be very hard to implement the route preset function in the web app. We also did not want to restrict the runner to a certain route incase they decide to change their mind during the running session. Moreover, if we keep track of the runner’s current location the entire time, it will cost a lot of battery power. Instead, we will only be storing instances of the GPS location to use less battery power, but still have an updated reference to the user’s location. In the end, we will not be implementing the preset route option into our system.
Our approach overall for this project to primarily make sure our user is safe and the system works for all types of emergency situations. Our device is easy to understand and can be used by runners of all ages, making our device one of the best options!


# Solution Approach  
In order to design a strong and efficient device, our team approached our design by focusing on three main measurements to determine if an emergency is taking place. First, measuring one’s heart rate for abnormal spikes is an easy way to determine if the runner is undergoing some type of stress. Heart rate spikes can be caused by a rush of adrenaline which usually occurs when one is in a dangerous or emergency situation. Our other approach to detecting an emergency is through the use of a force sensor that will be part of the shoe insert. This will signal whether or not the user is actually running. Obviously, if the user is not running there will be no force reading and if they do not cancel the alert then there's some type of situation that needs help. Finally, our last approach involved tracking the user’s GPS location and this is helpful in many ways in that if there was an emergency, we have the location of the runner. GPS location is very common and can easily be integrated into many devices these days and our group took advantage of this.
Our customer wanted a device that could automatically detect danger, and send a help signal out to save the user’s life. This is because people that may be jogging alone can often be in danger, especially young women. The device had to be a concealed device which the runner wears in a concealed location, in a shoe, and around the chest, which senses when something is wrong and will automatically send a message to the emergency contact. This system is a self-contained device, not relying on the user’s cell phone or on an easily thwarted action such as yelling or a button push. If the user is not in trouble, they can press the button to cancel the emergency signal transmission.

# Product Architecture and Structure
Our product contains two main part: Software design and Hardware design. We have actual devices which the user can put them on. We have one shoe insert device and a chest strap device. They paired each other by using Bluetooth. The shoe insert device contains a force sensor, Micro Controller with Bluetooth, and battery. The chest strap device contains a pulse sensor, SMS module, Micro Controller with Bluetooth, and battery. As for the Software part, there are three main pages on the website: login, sign-up, and home page. We used JavaScript and HTML as our main development languages, with some Node.js, C, and CSS. The technical details would be explained in the Wiki.


# About this repo
This repo includes three folders: Hardware, Software, and Supporting Documents. The codes are not interdependent, but it meant to work together. 

